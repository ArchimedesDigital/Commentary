/* istanbul ignore next */'use strict';Object.defineProperty(exports, "__esModule", { value: true });var /* istanbul ignore next */_react = require('react'); /* istanbul ignore next */var _react2 = _interopRequireDefault(_react);
var /* istanbul ignore next */_meteor = require('meteor/meteor');
var /* istanbul ignore next */_session = require('meteor/session');
var /* istanbul ignore next */_reactMeteorData = require('meteor/react-meteor-data');

var /* istanbul ignore next */_getMuiTheme = require('material-ui/styles/getMuiTheme'); /* istanbul ignore next */var _getMuiTheme2 = _interopRequireDefault(_getMuiTheme);
var /* istanbul ignore next */_RaisedButton = require('material-ui/RaisedButton'); /* istanbul ignore next */var _RaisedButton2 = _interopRequireDefault(_RaisedButton);
var /* istanbul ignore next */_comments = require('/Users/Tyler/Desktop/AHCIP/ahcip/imports/api/collections/comments'); /* istanbul ignore next */var _comments2 = _interopRequireDefault(_comments);
var /* istanbul ignore next */_BackgroundImageHolder = require('/Users/Tyler/Desktop/AHCIP/ahcip/imports/ui/components/shared/BackgroundImageHolder'); /* istanbul ignore next */var _BackgroundImageHolder2 = _interopRequireDefault(_BackgroundImageHolder);


var /* istanbul ignore next */_utils = require('/Users/Tyler/Desktop/AHCIP/ahcip/imports/lib/utils'); /* istanbul ignore next */var _utils2 = _interopRequireDefault(_utils);
var /* istanbul ignore next */_muiTheme = require('/Users/Tyler/Desktop/AHCIP/ahcip/imports/lib/muiTheme'); /* istanbul ignore next */var _muiTheme2 = _interopRequireDefault(_muiTheme);


var /* istanbul ignore next */_CommentersList = require('/Users/Tyler/Desktop/AHCIP/ahcip/imports/ui/components/commenters/CommentersList'); /* istanbul ignore next */var _CommentersList2 = _interopRequireDefault(_CommentersList);
var /* istanbul ignore next */_WorksList = require('/Users/Tyler/Desktop/AHCIP/ahcip/imports/ui/components/works/WorksList'); /* istanbul ignore next */var _WorksList2 = _interopRequireDefault(_WorksList);
var /* istanbul ignore next */_KeywordsList = require('/Users/Tyler/Desktop/AHCIP/ahcip/imports/ui/components/keywords/KeywordsList'); /* istanbul ignore next */var _KeywordsList2 = _interopRequireDefault(_KeywordsList);
var /* istanbul ignore next */_Spinner = require('/Users/Tyler/Desktop/AHCIP/ahcip/imports/ui/components/loading/Spinner'); /* istanbul ignore next */var _Spinner2 = _interopRequireDefault(_Spinner);
var /* istanbul ignore next */_LoadingHome = require('/Users/Tyler/Desktop/AHCIP/ahcip/imports/ui/components/loading/LoadingHome'); /* istanbul ignore next */var _LoadingHome2 = _interopRequireDefault(_LoadingHome);


var /* istanbul ignore next */_Commentary = require('/Users/Tyler/Desktop/AHCIP/ahcip/imports/ui/layouts/commentary/Commentary'); /* istanbul ignore next */var _Commentary2 = _interopRequireDefault(_Commentary);function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };} // components:
// lib

var Home = /* istanbul ignore next */_react2.default.createClass({ /* istanbul ignore next */displayName: 'Home',

	propTypes: {
		settings: /* istanbul ignore next */_react2.default.PropTypes.object,
		comments: /* istanbul ignore next */_react2.default.PropTypes.array,
		ready: /* istanbul ignore next */_react2.default.PropTypes.bool },


	childContextTypes: {
		muiTheme: /* istanbul ignore next */_react2.default.PropTypes.object.isRequired }, /* istanbul ignore next */


	getChildContext: function getChildContext() {
		return { muiTheme: /* istanbul ignore next */(0, _getMuiTheme2.default)( /* istanbul ignore next */_muiTheme2.default) };
	}, /* istanbul ignore next */

	componentDidMount: function componentDidMount() {
		new WOW().init();
	}, /* istanbul ignore next */

	scrollToIntro: function scrollToIntro(e) {
		$('html, body').animate({ scrollTop: $('#intro').offset().top - 100 }, 300);

		e.preventDefault();
	}, /* istanbul ignore next */

	render: function render() {/* istanbul ignore next */var _props =
		this.props,settings = _props.settings,comments = _props.comments,ready = _props.ready;
		var imageUrl = /* istanbul ignore next */location.origin + '/images/hector.jpg';
		var introImage = '/images/ajax_achilles_3.jpg';
		var introImageCaption = '';

		if (!settings) {
			return (/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */_LoadingHome2.default, /* istanbul ignore next */null));
		}

		if (
		settings.homepageCover &&
		settings.homepageCover.length)
		{
			imageUrl = settings.homepageCover;
		}

		if (
		settings.homepageIntroductionImage &&
		settings.homepageIntroductionImage.length)
		{
			introImage = settings.homepageIntroductionImage;
		}

		if (
		settings.homepageIntroductionImageCaption &&
		settings.homepageIntroductionImageCaption.length)
		{
			introImageCaption = settings.homepageIntroductionImageCaption;
		}

		/* istanbul ignore next */_utils2.default.setTitle( /* istanbul ignore next */'Home | ' + (settings ? settings.title : ''));
		/* istanbul ignore next */_utils2.default.setDescription(settings ? settings.subtitle : '');
		/* istanbul ignore next */_utils2.default.setMetaImage(imageUrl);

		return (
			/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */'div', /* istanbul ignore next */{ className: 'home' },

				/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */'div', /* istanbul ignore next */{ className: 'content primary' },

					/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */'section', /* istanbul ignore next */{ className: 'header cover fullscreen parallax' },
						/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */_BackgroundImageHolder2.default, /* istanbul ignore next */{
							imgSrc: imageUrl }),


						/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */'div', /* istanbul ignore next */{
								className: 'container v-align-transform wow fadeIn',
								/* istanbul ignore next */'data-wow-duration': '1s',
								/* istanbul ignore next */'data-wow-delay': '0.1s' },


							/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */'div', /* istanbul ignore next */{ className: 'grid inner' },
								/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */'div', /* istanbul ignore next */{ className: 'center-content' },

									/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */'div', /* istanbul ignore next */{ className: 'site-title-wrap' },
										/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */'h2', /* istanbul ignore next */{ className: 'site-title' }, settings.name),
										/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */'h3', /* istanbul ignore next */{ className: 'site-subtitle' },
											settings.subtitle)),



									/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */_RaisedButton2.default, /* istanbul ignore next */{
										href: '#intro',
										className: 'cover-link learn-more',
										label: 'Learn More',
										onClick: this.scrollToIntro }),


									/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */_RaisedButton2.default, /* istanbul ignore next */{
										href: '/commentary/',
										className: 'cover-link go-to-commentary',
										label: 'Go to Commentary' })))),







						/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */'div', /* istanbul ignore next */{ className: 'scroll-down-helper' },
							/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */'p', /* istanbul ignore next */null,
								/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */'em', /* istanbul ignore next */null, /* istanbul ignore next */'Scroll down for an overview of the project.')),

							/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */'i', /* istanbul ignore next */{ className: 'mdi mdi-chevron-down' }))),




					/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */'section', /* istanbul ignore next */{ id: 'intro', className: 'intro' },
						/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */'div', /* istanbul ignore next */{ className: 'container' },
							/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */'div', /* istanbul ignore next */{ className: 'row' },
								/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */'h2', /* istanbul ignore next */null,
									settings.homepageIntroductionTitle),


								/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */'div', /* istanbul ignore next */{ className: 'intro-col intro-col-text' },
									settings.introBlocks.map(function (block, i) /* istanbul ignore next */{return (
											/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */'div', /* istanbul ignore next */{
													key: i,
													className: 'mb40 mb-xs-24l intro-block-text' },

												/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */'h5', /* istanbul ignore next */{ className: 'uppercase intro-block-header' },
													block.title),

												/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */'span', /* istanbul ignore next */{ className: 'intro-block-desc' },
													block.text),

												block.linkURL && block.linkText ?
												/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */'div', /* istanbul ignore next */{
														style: { marginTop: '20px' } },

													/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */_RaisedButton2.default, /* istanbul ignore next */{
														className: 'intro-block-link cover-link dark',
														href: block.linkURL,
														label: block.linkText })) :


												''));})),



								/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */'div', /* istanbul ignore next */{ className: 'intro-col intro-col-image image-wrap wow fadeIn' },
									/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */'img', /* istanbul ignore next */{
										className: 'paper-shadow',
										alt: introImageCaption,
										src: introImage }),

									/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */'div', /* istanbul ignore next */{
										className: 'caption',
										dangerouslySetInnerHTML: {
											__html: introImageCaption } }))))),









					/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */'section', /* istanbul ignore next */{ className: 'commentors' },
						/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */_BackgroundImageHolder2.default, /* istanbul ignore next */{
							imgSrc: '/images/school-athens.jpg' }),


						/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */'div', /* istanbul ignore next */{ className: 'container' },
							/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */'h2', /* istanbul ignore next */{ className: 'block-title' }, /* istanbul ignore next */'Commentators'),
							/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */_CommentersList2.default, /* istanbul ignore next */{
								featureOnHomepage: /* istanbul ignore next */true,
								defaultAvatarUrl: '/images/default_user.jpg',
								limit: 3 }),

							/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */_RaisedButton2.default, /* istanbul ignore next */{
								href: '/commenters',
								className: 'cover-link light show-more ',
								label: 'Other Commentators' }))),



					/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */'section', /* istanbul ignore next */{ id: 'visualizations', className: 'browse-commentary block-shadow' },
						/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */'span', /* istanbul ignore next */{ className: 'visualizations-coaching-text' }, /* istanbul ignore next */'The charts below visualize data about the number of comments per book or hymn, but they are also an interface into the commentary itself. The darker the shade of the bar, the more comments there are, but try clicking on the shaded elements and see what happens.'),





						/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */'div', /* istanbul ignore next */{ className: 'container data-visualization-container' },
							/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */_WorksList2.default, /* istanbul ignore next */null))),



					/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */'section', /* istanbul ignore next */{ className: 'keywords' },
						/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */'div', /* istanbul ignore next */{ className: 'grid inner' },
							/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */'h2', /* istanbul ignore next */{ className: 'keyword-divider-title' }, /* istanbul ignore next */'Keywords'),
							/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */'div', /* istanbul ignore next */{ className: 'underline' }),
							/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */_KeywordsList2.default, /* istanbul ignore next */{ type: 'word', title: 'Keywords', limit: 5 }),
							/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */_RaisedButton2.default, /* istanbul ignore next */{
								href: '/keywords',
								className: 'cover-link show-more primary ',
								label: 'More Keywords' }))),




					/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */'section', /* istanbul ignore next */{ className: 'keywords keyideas' },
						/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */'div', /* istanbul ignore next */{ className: 'grid inner' },
							/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */'h2', /* istanbul ignore next */{ className: 'keyword-divider-title' }, /* istanbul ignore next */'Key Ideas'),
							/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */'div', /* istanbul ignore next */{ className: 'underline' }),
							/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */_KeywordsList2.default, /* istanbul ignore next */{ type: 'idea', title: 'Key Ideas', limit: 5 }),
							/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */_RaisedButton2.default, /* istanbul ignore next */{
								href: '/keyideas',
								className: 'cover-link show-more primary ',
								label: 'More Key Ideas' }))),




					/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */'section', /* istanbul ignore next */{ className: 'get-started' },
						/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */'h2', /* istanbul ignore next */{ className: 'block-title' }, /* istanbul ignore next */'Get Started'),
						/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */'div', /* istanbul ignore next */{ className: 'get-started-comments' },
							ready ?
							/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */_Commentary2.default, /* istanbul ignore next */{
								isOnHomeView: /* istanbul ignore next */true,
								filters: [],
								comments: comments,
								skip: 0,
								limit: 10 }) :


							/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */_Spinner2.default, /* istanbul ignore next */null),

							/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */'div', /* istanbul ignore next */{ className: 'read-more-link' },

								/* istanbul ignore next */_react2.default.createElement( /* istanbul ignore next */_RaisedButton2.default, /* istanbul ignore next */{
									href: '/commentary',
									className: 'cover-link light show-more ',
									label: 'Read More' })))))));








	} }); // layouts:
/* istanbul ignore next */exports.default =

/* istanbul ignore next */(0, _reactMeteorData.createContainer)(function () {
	var query = { tenantId: /* istanbul ignore next */_session.Session.get('tenantId') };
	var commentsSub = /* istanbul ignore next */_meteor.Meteor.subscribe('comments', query, 0, 10);

	var comments = /* istanbul ignore next */_comments2.default.find({}, { sort: { 'work.order': 1, 'subwork.n': 1, lineFrom: 1, nLines: -1 } }).fetch();

	return {
		comments: comments,
		ready: commentsSub.ready() };

}, Home);